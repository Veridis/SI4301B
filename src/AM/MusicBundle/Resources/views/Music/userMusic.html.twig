{% extends 'AMMusicBundle::layout.html.twig' %}

{% block body -%}
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <h1>My musics <a class="btn btn-info btn-sm" href="{{ path('music_new') }}">Add a new Music</a></h1><br />
            </div>
        </div>
        <ul class="media-list">
            {% for music in userMusics %}
                <li class="media">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6 col-md-offset-3">
                                <a class="pull-left" href="{{ path('music_show', {'id' : music.id}) }}">
                                    <img class="media-object cover-size img-circle" src="{{ asset('uploads/musics/covers/') }}{{ music.musicFiles.coverPath }}" />
                                </a>
                                <div class="media-body">
                                    <h3 class="media-heading">{{ music.title|title }} - <em>{{ music.user.username }}</em> <small>({{ music.convertDuration() }})</small></h3>
                                    {% if music.album is not null %}
                                        <p>
                                            From <strong><small>{{ music.album|upper }}</small></strong> album. <br />
                                            <span class="label label-info">{{ music.style }}</span>
                                        </p>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-md-3">
                                <a class="btn btn-xs btn-info" href="{{ path('music_show', {'id' : music.id}) }}" data-toggle="tooltip" data-placement="right" title="Play Music"><span class="glyphicon glyphicon-play"></span></a><br/>
                                <a class="btn btn-xs btn-warning" href="{{ path('music_edit', { 'id': music.id }) }}" data-toggle="tooltip" data-placement="right" title="Edit"><span class="glyphicon glyphicon-pencil"></span></a><br/>
                            </div>
                        </div>
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}
